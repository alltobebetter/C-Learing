# 一年的第几天

**题目：**  用户输入年、月、日，程序计算该日期是当年的第几天。

**程序分析：** 

1. **存储每月天数：** 使用一个数组 `daysInMonth` 存储每个月的天数，便于后续计算。
2. **获取用户输入：**  提示用户输入年、月、日，并使用 `scanf` 函数读取。
3. **输入校验：**  检查输入格式是否正确，月份和日期是否在有效范围内。
4. **计算总天数：**
    - 累加输入月份之前所有月份的天数。
    - 加上输入的日期。
5. **判断闰年：**  根据闰年规则判断输入的年份是否为闰年。
6. **闰年调整：** 如果是闰年且月份大于 2 月，则总天数加 1。
7. **输出结果：**  打印计算得到的总天数。

**代码分析：**

```c
#include <stdio.h>

// 用一个数组存储每个月的天数，下标 0-11 对应 1-12 月
const int daysInMonth[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };

int main() {
    int day, month, year, sum;
    
    // 提示用户输入日期
    printf("\n请输入年、月、日，格式为：年,月,日（2015,12,10）\n");
    // 读取用户输入，并判断输入格式是否正确
    if (scanf("%d,%d,%d", &year, &month, &day) != 3 || 
        month < 1 || month > 12 || day < 1 || day > 31) {
        printf("输入数据错误\n");
        return 1; // 输入错误，返回非零值表示程序异常
    }

    // 计算输入月份之前的总天数
    sum = 0;
    for (int i = 0; i < month - 1; i++) {
        sum += daysInMonth[i];
    }
    // 加上输入的日期
    sum += day;

    // 判断是否为闰年
    int leap = (year % 400 == 0) || (year % 4 == 0 && year % 100 != 0);

    // 如果是闰年且月份大于2, 总天数加一天
    if (leap && month > 2) {
        sum++;
    }

    // 输出结果
    printf("这是这一年的第 %d 天。\n", sum);
    return 0; // 程序正常结束，返回 0
}
```

**总结：**

该程序通过使用数组存储每月天数、循环累加天数以及判断闰年等操作，实现了计算日期是当年的第几天的功能。同时，程序还包含了输入校验部分，提高了代码的健壮性。
